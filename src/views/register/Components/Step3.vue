<template>
  <el-form :rules="rules" :model="ruleForm" ref="ruleForm" class="financial-status">
    <el-form-item label="è´¢åŠ¡æŠ¥å‘Š" prop="report">
    </el-form-item>
    <el-form-item label="å¹´ä»½" prop="nianfen1">
      <el-input v-model="ruleForm.nianfen1" placeholder="è¯·è¾“å…¥å¹´ä»½" disabled></el-input>
    </el-form-item>
    <el-form-item label="å¯¹åº”å¹´ä»½è¥ä¸šé¢" prop="yingyee1">
      <el-input v-model="ruleForm.yingyee1" type="number" placeholder="è¯·è¾“å…¥å¯¹åº”å¹´ä»½è¥ä¸šé¢" min="0" precision="2" :maxlength="10"></el-input>
      <span class="unit">ä¸‡å…ƒ</span>
    </el-form-item>
    <el-form-item label="å¹´ä»½" prop="nianfen2">
      <el-input v-model="ruleForm.nianfen2" placeholder="è¯·è¾“å…¥å¹´ä»½" disabled></el-input>
    </el-form-item>
    <el-form-item label="å¯¹åº”å¹´ä»½è¥ä¸šé¢" prop="yingyee2">
      <el-input v-model="ruleForm.yingyee2" type="number" placeholder="è¯·è¾“å…¥å¯¹åº”å¹´ä»½è¥ä¸šé¢" min="0" precision="2" :maxlength="10"></el-input>
      <span class="unit">ä¸‡å…ƒ</span>
    </el-form-item>
    <el-form-item label="å¹´ä»½" prop="nianfen3">
      <el-input v-model="ruleForm.nianfen3" placeholder="è¯·è¾“å…¥å¹´ä»½" disabled></el-input>
    </el-form-item>
    <el-form-item label="å¯¹åº”å¹´ä»½è¥ä¸šé¢" prop="yingyee3">
      <el-input v-model="ruleForm.yingyee3" type="number" placeholder="è¯·è¾“å…¥å¯¹åº”å¹´ä»½è¥ä¸šé¢" min="0" precision="2" :maxlength="10"></el-input>
      <span class="unit">ä¸‡å…ƒ</span>
    </el-form-item>
    <p>å‰ä¸‰åˆä½œæ–¹</p>
    <el-form-item label="2019" label-width="80px" class="extra">
      <div class="grip-wrap">
        <span class="title">åˆä½œæ–¹åç§°</span>
        <span class="title">è¥ä¸šé¢</span>
        <span class="title">å æ¯”</span>
        <el-input v-model="ruleForm.yingyee3" placeholder="åˆä½œæ–¹åç§°" min="0" precision="2" :maxlength="10" class="cooperate"></el-input>
        <div><el-input v-model="ruleForm.yingyee3" type="number" placeholder="è¥ä¸šé¢" min="0" precision="2" :maxlength="10"></el-input><span class="unit">ä¸‡å…ƒ</span></div>
        <div><el-input v-model="ruleForm.yingyee3" placeholder="å æ¯”" min="0" precision="2" :maxlength="10"></el-input><span class="unit">%</span></div>
        <el-input v-model="ruleForm.yingyee3" placeholder="åˆä½œæ–¹åç§°" min="0" precision="2" :maxlength="10" class="cooperate"></el-input>
        <div><el-input v-model="ruleForm.yingyee3" type="number" placeholder="è¥ä¸šé¢" min="0" precision="2" :maxlength="10"></el-input><span class="unit">ä¸‡å…ƒ</span></div>
        <div><el-input v-model="ruleForm.yingyee3" placeholder="å æ¯”" min="0" precision="2" :maxlength="10"></el-input><span class="unit">%</span></div>
        <el-input v-model="ruleForm.yingyee3" placeholder="åˆä½œæ–¹åç§°" min="0" precision="2" :maxlength="10" class="cooperate"></el-input>
        <div><el-input v-model="ruleForm.yingyee3" type="number" placeholder="è¥ä¸šé¢" min="0" precision="2" :maxlength="10"></el-input><span class="unit">ä¸‡å…ƒ</span></div>
        <div><el-input v-model="ruleForm.yingyee3" placeholder="å æ¯”" min="0" precision="2" :maxlength="10"></el-input><span class="unit">%</span></div>
      </div>
    </el-form-item>
    <el-form-item label="2020" label-width="80px" class="extra">
      <div class="grip-wrap">
        <span class="title">åˆä½œæ–¹åç§°</span>
        <span class="title">è¥ä¸šé¢</span>
        <span class="title">å æ¯”</span>
        <el-input v-model="ruleForm.yingyee3" placeholder="åˆä½œæ–¹åç§°" min="0" precision="2" :maxlength="10" class="cooperate"></el-input>
        <div><el-input v-model="ruleForm.yingyee3" type="number" placeholder="è¥ä¸šé¢" min="0" precision="2" :maxlength="10"></el-input><span class="unit">ä¸‡å…ƒ</span></div>
        <div><el-input v-model="ruleForm.yingyee3" placeholder="å æ¯”" min="0" precision="2" :maxlength="10"></el-input><span class="unit">%</span></div>
        <el-input v-model="ruleForm.yingyee3" placeholder="åˆä½œæ–¹åç§°" min="0" precision="2" :maxlength="10" class="cooperate"></el-input>
        <div><el-input v-model="ruleForm.yingyee3" type="number" placeholder="è¥ä¸šé¢" min="0" precision="2" :maxlength="10"></el-input><span class="unit">ä¸‡å…ƒ</span></div>
        <div><el-input v-model="ruleForm.yingyee3" placeholder="å æ¯”" min="0" precision="2" :maxlength="10"></el-input><span class="unit">%</span></div>
        <el-input v-model="ruleForm.yingyee3" placeholder="åˆä½œæ–¹åç§°" min="0" precision="2" :maxlength="10" class="cooperate"></el-input>
        <div><el-input v-model="ruleForm.yingyee3" type="number" placeholder="è¥ä¸šé¢" min="0" precision="2" :maxlength="10"></el-input><span class="unit">ä¸‡å…ƒ</span></div>
        <div><el-input v-model="ruleForm.yingyee3" placeholder="å æ¯”" min="0" precision="2" :maxlength="10"></el-input><span class="unit">%</span></div>
      </div>
    </el-form-item>
    <el-form-item>
      <el-button @click="onCancle('ruleForm')">å–æ¶ˆ</el-button>
      <el-button @click="onSave('ruleForm')" type="primary">ä¿å­˜</el-button>
      <!-- <el-button @click="onNext" type="primary">ä¸‹ä¸€æ­¥</el-button> -->
    </el-form-item>
  </el-form>
</template>
<script>
import mixins from '../mixins/index'
export default {
  props: {},
  data () {
    return {
      tableData: [],
      ruleForm: {
        report: '',
        nianfen1: '',
        yingyee1: '',
        nianfen2: '',
        yingyee2: '',
        nianfen3: '',
        yingyee3: '',
      },
      rules: {
        report: [
          { required: true, message: 'è¯·ä¸Šä¼ è´¢åŠ¡æŠ¥å‘Š', trigger: 'blur' }
        ],
        nianfen1: [
          { required: true, message: 'è¯·è¾“å…¥å¹´ä»½', trigger: 'blur' }
        ],
        yingyee1: [
          { required: true, message: 'è¯·è¾“å…¥è¥ä¸šé¢', trigger: 'blur' }
        ],
        nianfen2: [
          { required: true, message: 'è¯·è¾“å…¥å¹´ä»½', trigger: 'blur' }
        ],
        yingyee2: [
          { required: true, message: 'è¯·è¾“å…¥è¥ä¸šé¢', trigger: 'blur' }
        ],
        nianfen3: [
          { required: true, message: 'è¯·è¾“å…¥å¹´ä»½', trigger: 'blur' }
        ],
        yingyee3: [
          { required: true, message: 'è¯·è¾“å…¥è¥ä¸šé¢', trigger: 'blur' }
        ],
      }
    }
  },
  mixins,
  mounted () {
    const cur = new Date()
    console.log('cur: ', cur.getFullYear())
    this.ruleForm.nianfen1 = cur.getFullYear()
    this.ruleForm.nianfen2 = this.ruleForm.nianfen1 - 1
    this.ruleForm.nianfen3 = this.ruleForm.nianfen1 - 2
    this.tableData.push({
      nianfen: this.ruleForm.nianfen2,
    }, {
      nianfen: this.ruleForm.nianfen1
    })
  },
  methods: {
    // é¢„ç•™
    setData (data) {
      console.log('%c ğŸ  data: ', 'font-size:20px;background-color: #E41A6A;color:#fff;', data);
    },
    getData () {
      const res = {}
      return res
    },
    onSave(formName) {
      console.log('onSave: ', this.ruleForm, formName)
      // this.$refs[formName].validate((valid) => {
      //   if (valid) {
      //     alert('submit!')
      //   } else {
      //     console.log('error submit!!')
      //     return false
      //   }
      // })
      this.$emit('save', 4)
    }
  }
}
</script>
<style lang="scss" scoped>
  ::v-deep .el-input input::-webkit-outer-spin-button,
  ::v-deep .el-input input::-webkit-inner-spin-button { -webkit-appearance: none; }
  ::v-deep .el-input input[type="number"]{ -moz-appearance: textfield; }
  .grip-wrap {
    display: grid;
    align-items: center;
    line-height: 20px;
    grid-template-columns: 200px 140px 140px;
    grid-column-gap: 10px;
    grid-row-gap: 10px;
    .title {
      text-align: center;
    }
  }
  .el-form .el-form-item.extra {
    ::v-deep .el-form-item__label {
      flex: none;
      line-height: 190px;
    }
    ::v-deep .el-form-item__content {
      flex: none;
      .el-input {
        width: 100px;
        &.cooperate {
          width: 200px;
        }
      }
    }
  }
  .unit {
    padding-left: 5px;
  }
</style>
